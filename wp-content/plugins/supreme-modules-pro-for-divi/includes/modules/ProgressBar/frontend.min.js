window.onload=()=>{let e=document.querySelectorAll(".dsm-progress-bar-container"),t=e=>{if(null==e)return;let t=window.innerHeight,r=window.scrollY,o=jQuery(e).offset().top,l=e.offsetHeight,s=r+t-o,a=Math.round(s/((t+l)/100));return Math.min(100,Math.max(0,a))},r=e=>{let{progress:r,relativeTo:o,trackerType:l,showPercentage:s,progressSelector:a,progressDirection:c,progressPercentage:n}=e,i;if("entire_page"===o){let $=Math.ceil((document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100);i=$>=100?100:$}if("selector"===o){let d=document.querySelector(a),u=void 0===t(d)&&void 0!==d?0:t(d);i=u>=100?100:u}if("horizontal"===l&&r.style.setProperty("width",i+"%"),"circular"===l){let f=r.querySelector(".dsm-progressbar-circular svg circle.current-progress"),g=2*f.r.baseVal.value*Math.PI;f.style.strokeDasharray=g,"right"===c&&(f.style.strokeDashoffset=g-i/100*g),"left"===c&&(f.style.strokeDashoffset=g-("-"+i/100)*g)}"on"===s&&(n.innerHTML=Math.floor(i)+"%")};e.forEach(e=>{let t=e.dataset.relative,o=e.dataset.show_percentage,l=e.dataset.tracker_type,s=e.dataset.direction,a=e.dataset.selector,c="horizontal"===l?e.querySelector(".dsm-current-progress"):e,n=e.querySelector(".dsm-current-progress-percentage"),i={progress:c,relativeTo:t,trackerType:l,showPercentage:o,progressSelector:a,progressDirection:s,progressPercentage:n};r(i),document.addEventListener("scroll",function(e){r(i)})})};