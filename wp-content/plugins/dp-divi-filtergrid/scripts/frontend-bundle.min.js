!function(t){var a={};function d(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,d),i.l=!0,i.exports}d.m=t,d.c=a,d.d=function(t,a,e){d.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:e})},d.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(a,"a",a),a},d.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},d.p="/",d(d.s=19)}([,function(t,a){},function(t,a){},function(t,a){},function(t,a){},function(t,a){},,,,,,,,,,,,,,function(t,a,d){d(1),d(3),d(4),d(5),d(2),t.exports=d(20)},function(t,a){function d(t){return function(t){if(Array.isArray(t)){for(var a=0,d=new Array(t.length);a<t.length;a++)d[a]=t[a];return d}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function e(t){return(e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";var a=!1;void 0!==window.et_builder_utils_params?["vb","bfb","tb","lbb"].forEach(function(t){t===window.et_builder_utils_params.builderType&&(a=!0)}):a="object"===e(window.ET_Builder),t(document).ready(function(){var e=t(window).width(),i=[];t(".dp-dfg-container:not(.dp-dfg-empty)").each(function(r){var n=t(this),o="on"===n.attr("data-filters"),s="on"===n.attr("data-date-filters"),f="on"===n.attr("data-ajax-filters"),l="on"===n.attr("data-ajax-filters"),p="on"===n.attr("data-pagination"),g="on"===n.attr("data-search"),c="on"===n.attr("data-sorting"),h="on"===n.attr("data-url-navigation"),v=void 0!==n.attr("data-url-history")&&"on"===n.attr("data-url-history").split("|")[0],u=void 0!==n.attr("data-url-history")?n.attr("data-url-history").split("|")[1]:"",m="on"===n.attr("data-cache"),y=void 0!==n.attr("data-multilevel")?n.attr("data-multilevel").split("|"):["off","AND","off"],w="on"===y[0]||s,b=y[1],C=y[2],_=void 0!==n.attr("data-multifilter")?n.attr("data-multifilter").split("|"):["off","OR"],x="on"===_[0],k=_[1],j=n.attr("data-default-filter"),I=n.find(".dp-dfg-filters").hasClass("dp-dfg-filters-dropdown-layout")?"dropdown":"button",S=n.attr("data-found-posts"),T=n.attr("data-post-number"),D=!f&&!h&&(!p||parseInt(T)>=parseInt(S)||"-1"===T)&&"All"===j,E=n.attr("data-module"),O=n.find(".dp-dfg-search-input"),A=at();function L(){if(!a&&"on"!==n.attr("data-doing-ajax")){if(n.attr("data-page",1),O.val().trim().length>1){O.removeClass("search-clean");var t=O.next(".dp-dfg-search-icon");t.text(t.attr("data-icon-clear")),O.hasClass("search-active")?(O.val("").addClass("search-clean").focus(),t.text(t.attr("data-icon-search"))):O.addClass("search-active")}else O.addClass("search-clean");q("search")}}function P(a,d,e){var i=!1;"dropdown"===I?(i=d.find('.dp-dfg-filters-dropdown[data-parent="'+a+'"]'),e?i.show():i.hide()):(i=d.find('.dp-dfg-level[data-parent="'+a+'"]'),e?n.hasClass("dp-dfg-skin-left-vertical-filters")?i.css({display:"block"}):i.css({display:"flex"}):i.css({display:"none"})),i&&i.find(".dp-dfg-filter-link.active").each(function(){t(this).removeClass("active");var a=t(this).attr("data-term-id");"dropdown"===I&&(i.find(".dp-dfg-dropdown-tag").remove(),i.find(".dp-dfg-dropdown-placeholder").show()),P(a,d,e)})}function M(a,e){if("on"===n.attr("data-doing-ajax"))return!1;var i=window[E],r=[],o=[],f="",l="",p=[],g=a.children("a.dp-dfg-filter-link"),c=a.hasClass("dp-dfg-date-filter"),h=a.parents(".dp-dfg-level"),v=a.parents(".dp-dfg-filters");if("on"===C&&!c){var u=g.attr("data-term-id");if(g.hasClass("active"))P(u,v,0);else{var m=!1;(m="dropdown"===I?g.parents(".dp-dfg-filters-dropdown"):g.parents(".dp-dfg-level"))&&(m.find(".dp-dfg-filter-link.active").each(function(){t(this).removeClass("active"),P(t(this).attr("data-term-id"),v,0)}),P(u,v,1))}}if(x||w){if("all"===g.attr("data-term-id")){if(g.hasClass("active"))return!1;h.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),g.addClass("active")}else{x?g.hasClass("active")?g.removeClass("active"):g.addClass("active"):g.hasClass("active")?g.removeClass("active"):(h.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),g.addClass("active"));var y=h.find(".dp-dfg-filter a.dp-dfg-filter-link[data-term-id=all]");0===h.find(".dp-dfg-filter a.dp-dfg-filter-link.active").length?void 0!==y&&y.addClass("active"):void 0!==y&&y.removeClass("active")}n.find(".dp-dfg-level").each(function(){var a=[];t(this).find(".dp-dfg-filter a.dp-dfg-filter-link.active").each(function(){var d=t(this).attr("data-term-id");"all"!==d&&(t(this).parent(".dp-dfg-filter").hasClass("dp-dfg-date-filter")?o.push(d):(r.push(d),a.push(d)))}),a.length>0&&p.push(a)})}else if(g.hasClass("active")){g.removeClass("active");var _=h.find(".dp-dfg-filter a.dp-dfg-filter-link[data-term-id=all]");void 0!==_&&_.addClass("active")}else h.find(".dp-dfg-filter a.dp-dfg-filter-link.active").removeClass("active"),g.addClass("active"),g.parent(".dp-dfg-filter").hasClass("dp-dfg-date-filter")?o.push(g.attr("data-term-id")):r.push(g.attr("data-term-id"));if(f=r.join("|"),l=o.join("|"),""===f&&(f="all"),""===l&&(l="all"),n.attr("data-date-active-filter",l),n.attr("data-active-filter",f),"dropdown"===I){var j=a.parents(".dp-dfg-level");if(x&&v.find(".dp-dfg-filter-trigger-button").length||a.parents(".dp-dfg-filters-dropdown").hasClass("open")&&(a.parents(".dp-dfg-filters-dropdown").toggleClass("closed open"),j.slideUp()),"on"===n.attr("data-terms-tags")){var S=j.prev(".dp-dfg-dropdown-label"),T=g.attr("data-term-id"),O=S.find(".dp-dfg-dropdown-placeholder");if(g.hasClass("active")){var A='<span class="dp-dfg-dropdown-tag" data-id="'+T+'">'+g.text()+"</span>";x||S.find(".dp-dfg-dropdown-tag").remove(),"all"===g.attr("data-term-id")?(O.show(),S.find(".dp-dfg-dropdown-tag").remove()):(O.hide(),S.find(".dp-dfg-dropdown-tag[data-id="+T+"]").length||S.append(A))}else S.find(".dp-dfg-dropdown-tag[data-id="+T+"]").remove(),0===S.find(".dp-dfg-dropdown-tag").length&&O.show()}}e?D?function(t,a,e,i,r,n,o,s,f){var l=t.find(".dp-dfg-items"),p=l.find(".dp-dfg-item");t.find(".dp-dfg-no-results").remove();var g=!0;if("all"===a)p.length>0?(g=!1,dt(p),p.fadeIn(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&p.parents(".dp-dfg-masonry-item").css({"margin-bottom":""})):g=!0;else{var c="",h=a.split("|");if(p.attr("data-position","off").hide(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&p.parents(".dp-dfg-masonry-item").css({"margin-bottom":"0"}),i||n){var v=[];s.forEach(function(t){var a=[];Array.isArray(t)&&t.length>0&&t.forEach(function(t){a.push(".dp-dfg-term-id-"+t)}),a.length>0&&v.push(a)});var u="";if(i&&!n)u="OR"===o?v[0].join(", "):v[0].join("");else if(!i&&n){var m=[];v.forEach(function(t){m.push(t.join(""))}),u="OR"===r?m.join(", "):m.join("")}else{var y=[];if(v.forEach(function(t){"OR"===o?y.push(t.join(", ")):y.push(t.join(""))}),"OR"===r)u=y.join(", ");else if("OR"===o){var w=[];y.forEach(function(t){w.push(t.split(", "))});var b=function t(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e===a.length?i.push(r):a[e].forEach(function(n){return t(a,e+1,i,d(r).concat([n]))});return i}(w),C=[];b.forEach(function(t,a){C[a]=t.join("")}),u=w.length>0?C.join(", "):y.join("")}else u=y.join("")}var _=l.find(u);_.length>0&&(dt(_),_.fadeIn(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&_.parents(".dp-dfg-masonry-item").css({"margin-bottom":""}),g=!1),t.attr("data-total-filtered",_.length)}else h.forEach(function(a){c=".dp-dfg-term-id-"+a;var d=l.find(c);d.length>0&&(dt(d),d.fadeIn(),"dp-dfg-layout-masonry-standard"===f.props.items_layout&&d.parents(".dp-dfg-masonry-item").css({"margin-bottom":""}),g=!1),t.attr("data-total-filtered",d.length)})}g&&l.prepend(f.no_results);"dp-dfg-layout-masonry-standard"===f.props.items_layout&&Y("jquery");t.trigger("dfg_after_jquery_filtering")}(n,f,0,x,b,w,k,p,i):function(t,a,d,e){t.attr("data-page",1),e||s?q("filter"):W(a,1)?V(a,1):q("filter")}(n,f,0,x):v.find(".dp-dfg-filter-trigger-button").removeClass("dp-dfg-filtering-done")}function R(t,a){var d=a.attr("data-parent"),e=a.find("a").attr("data-term-id");if(parseInt(d)){if("dropdown"===I){var i=t.find('.dp-dfg-filters-dropdown[data-parent="'+d+'"]');if(i.css({display:"block"}),"on"===t.attr("data-terms-tags")){var r='<span class="dp-dfg-dropdown-tag" data-id="'+e+'">'+a.text()+"</span>";i.find(".dp-dfg-dropdown-placeholder").hide(),i.find(".dp-dfg-dropdown-tag[data-id=".concat(e,"]")).length||i.find(".dp-dfg-dropdown-label").append(r)}}t.find('.dp-dfg-level[data-parent="'+d+'"]').css({display:"flex"});var n=t.find('.dp-dfg-filter-link[data-term-id="'+d+'"]').parents(".dp-dfg-filter");n.find("a").addClass("active"),R(t,n)}else if(t.find(".dp-dfg-filter[data-parent=all] > a").removeClass("active"),"dropdown"===I){var o=t.find('.dp-dfg-filters-dropdown[data-parent="'+d+'"]');if("on"===t.attr("data-terms-tags")){var s='<span class="dp-dfg-dropdown-tag" data-id="'+e+'">'+a.text()+"</span>";o.find(".dp-dfg-dropdown-placeholder").hide(),o.find(".dp-dfg-dropdown-label").append(s)}}}function H(t,a,d,e,i,r){var n=t+1,o=i+n+"/"+r;if("scroll"===e.pagination_type)n<=a&&d.find("a.dp-dfg-scroll-page-link").attr("href",o),t<a?d.find(".dp-dfg-ajax-scroll").addClass("active"):d.find(".dp-dfg-ajax-scroll").removeClass("active");else{var s=d.find("a.dp-dfg-load-more-button");n<=a&&s.attr("href",o),t<a?s.show():s.hide()}}function q(a){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n.attr("data-doing-ajax","on");var e=n.find(".dp-dfg-items"),i=n.find(".dp-dfg-no-results"),r=parseInt(n.attr("data-page")),o=n.attr("data-active-filter"),s=n.attr("data-date-active-filter"),f=n.find(".pagination"),h=f.find(".pagination-item:not(.dp-dfg-direction)"),v=f.find(".pagination-item.next-posts"),u=f.find(".pagination-item.previous-posts"),y=f.find(".pagination-item.dp-dfg-first-page"),w=f.find(".pagination-item.dp-dfg-last-page"),b=window[E],C=b.props,_=void 0,x="";if(C.query_context="ajax",C.orderby_cf=n.attr("data-orderby-cf"),C.orderby_cf_type=n.attr("data-orderby-cf-type"),C.active_date_filter="all"!==s?s:"","all"!==o?(C.use_taxonomy_terms="on",C.active_filter=o):C.active_filter="",g&&void 0!==O&&(C.query_var.s=O.val().trim()),"search"!==a&&"sort"!==a||!D||(C.active_filter="",x=n.attr("data-active-filter")),n.attr("data-jquery-based-filters",x),c&&(C.order=n.attr("data-order"),C.orderby=n.attr("data-orderby")),void 0!==d){var k=JSON.stringify(d);n.attr("data-json",k),C.json_data=k}t.ajax({type:"POST",url:dpdfg.ajaxurl,data:{action:"dpdfg_get_posts_data_action",page:r,module_data:C,vb:"off"},beforeSend:function(){e.children().css({opacity:.15}),n.find(".dp-dfg-filters").css({opacity:.15}),n.find(".dp-dfg-search").css({opacity:.15}),n.find(".dp-dfg-sorting").css({opacity:.15}),n.find(".dp-dfg-pagination").css({opacity:.15}),void 0!==b.loader&&""!==b.loader?e.append(b.loader):e.append(dpdfg.loader_html),n.trigger("dfg_before_ajax"),_=e.find(".dp-dfg-loader").first(),"load"===a||"scroll"===a||"paged"===a?_.css({top:"unset",bottom:"100px"}):_.css({top:"100px"}),"button"===C.pagination_type?n.find("a.dp-dfg-load-more-button").fadeOut("fast",function(){_.fadeIn("fast")}):_.fadeIn("fast")}}).done(function(d){var o;if(void 0!==i&&i.remove(),n.attr("data-page",r),void 0===d.no_results&&void 0===d.error){var s=parseInt(d.max_pages),g=d.posts;if("dp-dfg-layout-masonry-standard"===C.items_layout&&(g+='<div class="dp-dfg-masonry-gutter"></div>'),_.fadeOut("fast",function(){function i(){e.html("").append(g),r()}function r(){e.children().css({opacity:1}),n.attr("data-total-filtered",d.found_posts),setTimeout(function(){n.trigger("dfg_after_ajax",[d,a])},100),m&&setTimeout(function(){J()},500)}"paged"===a?"off"===n.attr("data-st")?i():t("html, body").animate({scrollTop:n.offset().top-200},100,"linear").promise().then(function(){i()}):"load"===a||"scroll"===a?(e.append(g),dt(e.find(".dp-dfg-item")),r()):i(),t(this).remove()}),p&&s>1){var c=n.find(".dp-dfg-pagination").attr("data-base-url")+"page/",b=n.find(".dp-dfg-pagination").attr("data-url-args");if(f.removeClass("dp-dfg-hide"),"paged"===a)h.each(function(){var a=t(this).children("a").attr("data-page");r+parseInt(C.pagination_pages)>=a&&r-parseInt(C.pagination_pages)<=a?t(this).removeClass("dp-dfg-hide"):t(this).addClass("dp-dfg-hide")});else if("load"===a||"scroll"===a)H(r,s,n,C,c,b);else if("paged"===C.pagination_type){h.remove(),o="";for(var x=0;x<s;x++){var k="",j="",I=x+1;0===x&&(k=" active"),(x>r+parseInt(C.pagination_pages)||x<r-parseInt(C.pagination_pages))&&(j=" dp-dfg-hide"),o=o+'<li class="pagination-item'+k+j+'"><a href="'+c+I+"/"+b+'" data-page="'+I+'" class="pagination-link">'+I+"</li>"}}else H(r,s,n,C,c,b);if("paged"===C.pagination_type){if(1!==f.find(".pagination-item:not(.dp-dfg-direction)").length&&f.append(o),1===u.length){var S=r>1?r-1:1;u.children(".pagination-link").attr("data-page",S).attr("href",c+S+"/"+b),f.prepend(u)}if(1===v.length){var T=r<s?r+1:s;f.append(v),v.children(".pagination-link").attr("data-page",T).attr("href",c+T+"/"+b)}1===y.length&&u.before(y),1===w.length&&(w.children(".pagination-link").attr("data-page",s).attr("href",c+s+"/"+b),v.after(w)),1===r?(u.addClass("dp-dfg-hide"),y.addClass("dp-dfg-hide"),v.removeClass("dp-dfg-hide"),w.removeClass("dp-dfg-hide")):s===r?(u.removeClass("dp-dfg-hide"),y.removeClass("dp-dfg-hide"),v.addClass("dp-dfg-hide"),w.addClass("dp-dfg-hide")):(v.removeClass("dp-dfg-hide"),w.removeClass("dp-dfg-hide"),u.removeClass("dp-dfg-hide"),y.removeClass("dp-dfg-hide"))}}else n.find(".dp-dfg-ajax-scroll").removeClass("active"),f.addClass("dp-dfg-hide");l&&(n.find(".dp-dfg-sorting").removeClass("dp-dfg-hide"),n.find(".dp-dfg-pagination").removeClass("dp-dfg-hide"))}else n.attr("data-doing-ajax","off"),f.addClass("dp-dfg-hide"),e.html("").append(d.no_results),n.trigger("dfg_no_results",[d])}).fail(function(t,a,d){_.remove(),console.log(d)}).always(function(){n.find(".dp-dfg-filters").css({opacity:1}),n.find(".dp-dfg-search").css({opacity:1}),n.find(".dp-dfg-sorting").css({opacity:1}),n.find(".dp-dfg-pagination").css({opacity:1})})}function U(t){if(!a){var d={allowHTMLInStatusIndicator:!0,allowHTMLInTemplate:!0,type:"image",removalDelay:500,mainClass:"mfp-fade dp-dfg-lightbox",gallery:{enabled:!0,navigateByImgClick:!0},callbacks:{beforeClose:function(){this.contentContainer.get(0).remove()}}},e=[],i=t.attr("data-images"),r=t.attr("data-content");for(var n in r=void 0!==r&&r.split("||"),i=i.split("||")){var o="";void 0!==r[n]&&""!==r[n]&&(o=B(r[n])),e.push({src:i[n],title:o})}d.items=e;var s={args:d,trigger:t};return t.trigger("dfg_open_custom_lightbox",s),!1}}function z(d,e){if(!a){var i,r={allowHTMLInStatusIndicator:!0,allowHTMLInTemplate:!0,type:"image",removalDelay:500,mainClass:"mfp-fade dp-dfg-lightbox",callbacks:{beforeClose:function(){this.contentContainer.get(0).remove()}}},o=[],s=[],f=0,l=0;if(i=d.hasClass("dp-dfg-item")?d.attr("id"):d.parents("article").attr("id"),"lightbox_gallery"===e){var p=function(t){if(void 0!==t.attr("data-img")){d.hasClass("dp-dfg-item")?i===t.attr("id")&&(l=f):i===t.parents("article").attr("id")&&(l=f),f++,o.push(t.attr("data-img"));var a=t.attr("data-title");void 0!==a&&""!==a&&s.push(B(a))}};d.hasClass("dp-dfg-item")?n.find('.dp-dfg-item:not([data-position="off"])').each(function(){p(t(this))}):n.find('.dp-dfg-item:not([data-position="off"]) .dp-dfg-image-link.entry-thumb-lightbox').each(function(){p(t(this))}),r.gallery={enabled:!0,navigateByImgClick:!0}}else{o.push(d.attr("data-img"));var g=d.attr("data-title");void 0!==g&&""!==g&&s.push(B(g))}for(var c in o)o[c]={src:o[c],title:s[c]};r.items=o;var h={args:r,start_at:l,action:e,trigger:d};return d.trigger("dfg_open_lightbox",h),!1}}function B(a){var d="",e=JSON.parse(a);return d=t("<div/>").addClass("dp-dfg-lightbox-image-data"),e.length&&e.forEach(function(a){var e=t("<span/>").text(a);d.append(e)}),d}function N(d,e,i){var r=["mfp-fade","dp-dfg-popup","dp-dfg-lightbox"],n=window[E],o="";if(""!==n.props.popup_code&&(o="video"===i?"?popup_css="+n.props.popup_code:"&popup_css="+n.props.popup_code),r.push(E+"-popup"),"video"===i&&r.push("dp-dfg-video-popup"),d+=o,!a){var s,f={args:{allowHTMLInStatusIndicator:!0,allowHTMLInTemplate:!0,type:"iframe",preloader:!0,fixedContentPos:!0,removalDelay:300,mainClass:r.join(" "),items:{src:d},callbacks:{beforeOpen:function(){var a="";t("body").hasClass("et_divi_builder")&&(a="<style>.dp-dfg-popup-modal .mfp-close { color: black !important; top: 1px; right: 8px; font-size: 3em; } iframe#dp-dfg-popup-modal-iframe { background-color: white; }.et-fb-loader-wrapper { position: absolute; left: 50%; top: 50%; margin: -50px auto auto -50px; background: #fff; width: 100px; height: 100px; border-radius: 100px; box-shadow: 0 5px 30px rgba(43, 135, 218, 0.15); animation: et-fb-loader-wrapper ease infinite 1.5s;} .et-fb-loader { position: absolute; left: 50%; top: 50%; margin: -6px auto auto -6px; width: 12px; height: 12px; border-radius: 12px; box-shadow: 0 -17px #7e3bd0, 17px 0 #7e3bd0, 0 17px #7e3bd0, -17px 0 #7e3bd0; animation: et-fb-loader ease infinite 3s; }</style>"),void 0!==n.loader&&""!==n.loader?this.preloader.html(a+n.loader):this.preloader.html(a+dpdfg.loader_html),s=this.preloader},open:function(){s.css({"z-index":1e4}).show(),this.content.find("#dp-dfg-popup-modal-iframe").on("load",function(){s.hide()})},beforeClose:function(){this.contentContainer.get(0).remove()}},iframe:{markup:'<div class="mfp-iframe-scaler dp-dfg-popup-modal"><div class="mfp-close"></div><iframe id="dp-dfg-popup-modal-iframe" class="mfp-iframe" allowfullscreen></iframe></div>'}},post_ajax_url:d,trigger:e};return e.trigger("dfg_open_popup",f),!1}}function J(){var t=n.attr("data-number"),a=n.find(".dp-dfg-filter a.active").attr("data-term-id");void 0===a&&(a="all");var d=n.find(".dp-dfg-items"),e=n.find(".pagination, .dp-dfg-pagination"),r=1;0!==e.length&&(r="0"===n.attr("data-page")?1:n.attr("data-page")),void 0!==i[t]&&void 0!==i[t][a]&&void 0!==i[t][a][r]&&(i[t][a][r].posts=d.html(),i[t][a][r].pages=e.html())}function V(a,d){var e=n.attr("data-number"),r=n.find(".dp-dfg-items"),o=n.find(".pagination, .dp-dfg-pagination");void 0===a&&(a="all"),void 0!==d&&0!==d||(d=1),void 0!==i[e][a][d]&&(r.fadeOut("slow",function(){var r=i[e][a][d].posts;void 0!==r&&t(this).html(r).fadeIn()}),0!==o.lenght&&o.fadeOut("slow",function(){var r=i[e][a][d].pages;void 0!==r&&t(this).html(r).fadeIn()}),t("html, body").animate({scrollTop:n.offset().top-200},200,"linear"))}function W(t,a){if(m){void 0===t&&(t="all"),void 0!==a&&0!==a||(a=1);var d=n.attr("data-number");return void 0!==i[d]&&void 0!==i[d][t]&&void 0!==i[d][t][a]&&"posts"in i[d][t][a]}return!1}if(c&&(n.on("click",".dp-dfg-sort-order",function(){a||("ASC"===n.attr("data-order")?n.attr("data-order","DESC"):n.attr("data-order","ASC"),n.attr("data-page",1),q("sort"))}),n.on("click",".dp-dfg-sort-option",function(){t(this).parents(".dp-dfg-filters-dropdown").hasClass("open")&&(t(this).parents(".dp-dfg-filters-dropdown").toggleClass("closed open"),t(this).parents("ul").slideUp());var d=t(this).parents(".dp-dfg-filters-dropdown"),e=d.find(".dp-dfg-dropdown-placeholder"),i=e.attr("data-text");if(!t(this).hasClass("active")){d.find(".dp-dfg-sort-option.active").removeClass("active"),t(this).addClass("active");var r=t(this).attr("data-order-value");void 0!==r&&n.attr("data-order",r);var o=t(this).attr("data-value"),s=n.attr("data-initorderby");"default"!==o?n.attr("data-orderby",o):n.attr("data-orderby",s);var f=t(this).attr("data-cf");void 0!==f?n.attr("data-orderby-cf",f):n.attr("data-orderby-cf",0);var l=t(this).attr("data-cf-type");void 0!==l?n.attr("data-orderby-cf-type",l):n.attr("data-orderby-cf-type",0),e.text(i+t(this).text()),a||(n.attr("data-page",1),q("sort"))}})),g&&(O.on("keyup",function(t){var a=O.next(".dp-dfg-search-icon");O.hasClass("search-active")&&(a.text(a.attr("data-icon-search")),O.removeClass("search-active")),(13===t.keyCode||13===t.which)&&O.val().trim().length>1&&L(),8!==t.keyCode&&8!==t.which&&46!==t.keyCode&&46!==t.which||0!==O.val().trim().length||(O.removeClass("search-active"),O.hasClass("search-clean")||a.click())}),n.find(".dp-dfg-search-icon").click(function(){L()})),o&&(n.on("click",".dp-dfg-level > .dp-dfg-filter",function(d){d.preventDefault();var e=n.attr("data-filter-method");if(!a)switch(e){case"button":M(t(this),!1);break;case"last_level":if("on"===C){var i=t(this).find(".dp-dfg-filter-link"),r=i.attr("data-term-id"),o=i.hasClass("active"),s=n.find(".dp-dfg-items, .dp-dfg-pagination"),f=0;f="dropdown"===I?n.find('.dp-dfg-filters-dropdown[data-parent="'+r+'"]').length:n.find('.dp-dfg-level[data-parent="'+r+'"]').length,t(this).hasClass("dp-dfg-date-filter")?(s.show(),M(t(this),!0)):(s.hide(),f?M(t(this),!1):(o||s.show(),M(t(this),!o)))}else M(t(this),!0);break;case"default":default:M(t(this),!0)}}),n.on("click",".dp-dfg-filter-trigger-button",function(a){if(a.preventDefault(),!t(this).hasClass("dp-dfg-filtering-done")){"dropdown"===I&&n.find(".dp-dfg-filters-dropdown.open").each(function(){t(this).toggleClass("closed open").children(".dp-dfg-level").slideUp()});var d=n.find(".dp-dfg-filter-link.active");if(d.length>0){var e=d.last();e.removeClass("active"),M(e.parents(".dp-dfg-filter"),!0),t(this).addClass("dp-dfg-filtering-done")}}}),n.on("click",".dp-dfg-clear-filters-button",function(a){a.preventDefault();var d=n.find(".dp-dfg-filters");"on"===C&&("dropdown"===I?d.find('.dp-dfg-filters-dropdown:not([data-parent="0"])').hide():d.find('.dp-dfg-level:not([data-parent="0"])').hide());var e=d.find('.dp-dfg-filter-link.active:not([data-term-id="all"])');if(e.length>0){e.removeClass("active");var i=d.find('.dp-dfg-filter-link[data-term-id="all"]:not(.active)');if(i.length>0){var r=i.length;i.each(function(){r>1?t(this).addClass("active"):M(t(this).parents(".dp-dfg-filter"),!0),r--})}else e.last().addClass("active"),M(e.last().parents(".dp-dfg-filter"),I);"dropdown"===I&&d.find(".dp-dfg-filters-dropdown").each(function(){t(this).find(".dp-dfg-dropdown-tag").remove(),t(this).find(".dp-dfg-dropdown-placeholder").show()})}}),n.on("click",".dp-dfg-dropdown-tag",function(a){a.stopPropagation();var d=t(this).attr("data-id");t(this).parents(".dp-dfg-dropdown-label").next(".dp-dfg-level").find(".dp-dfg-filter-link[data-term-id="+d+"]").click()})),(c||o)&&n.on("click",".dp-dfg-dropdown-label",function(){var a=t(this).parents(".dp-dfg-filters-dropdown");a.hasClass("closed")?(t(this).next().slideDown(),t(".dp-dfg-filters-dropdown.open").toggleClass("closed open").find(".dp-dfg-level").slideUp()):t(this).next().slideUp(),a.toggleClass("closed open")}),p&&(n.on("click",".pagination-item .pagination-link",function(d){if(d.preventDefault(),!a){var e=t(this);if(!e.parent(".pagination-item").hasClass("active")){var i=e.attr("data-page");if("on"===n.attr("data-doing-ajax"))return!1;if("sfp"===n.attr("data-third-party"));else{n.find(".pagination-item.active").removeClass("active"),n.find('.pagination-link[data-page="'+i+'"]').parent(".pagination-item:not(.dp-dfg-direction)").addClass("active"),n.attr("data-page",i);var r=n.find(".dp-dfg-filter a.active").attr("data-term-id");W(r,i)?V(r,i):q("paged")}}}}),n.on("click","a.dp-dfg-load-more-button",function(t){if(t.preventDefault(),!a){if("on"===n.attr("data-doing-ajax"))return!1;var d=parseInt(n.attr("data-page"));n.attr("data-page",d+1),q("load")}}),t(window).on("scroll",function(){if(!a){var d=t(window).scrollTop()+t(window).height();n.find(".dp-dfg-ajax-scroll.active").each(function(){var a=t(this).offset().top;if(d>a+60){if("on"===n.attr("data-doing-ajax"))return!1;var e=parseInt(n.attr("data-page"));n.attr("data-page",e+1),q("scroll")}})}})),n.on("dfg_trigger_ajax",function(t,a){q("custom",void 0!==t.detail?t.detail:a)}),n.on("click",".dp-dfg-item",function(d){var e,i=d.target;if(!t(i).is("a")&&!t(i).is("a *")){var r=t(this),o=r.attr("data-action"),s=r.attr("data-action-priority");if(void 0===o&&(o=n.attr("data-action")),"none"!==o)if("video"===s)r.find(".dp-dfg-video-overlay").click();else{var f="on"===n.attr("data-show-thumb")&&1===r.find(".dp-dfg-image-link").length;switch(o){case"link":e=f?r.find(".dp-dfg-image-link").attr("href"):r.attr("data-link"),"on"===r.attr("data-new-tab")?window.open(e):window.location=e;break;case"popup_v":!function(d,e,i){var r=["mfp-fade","dp-dfg-popup","dp-dfg-lightbox"],n=window[E],o="";o=n.props.popup_code,r.push(E+"-popup");var s=t('<div><div class="et_pb_module_inner"></div></div>');t.each(e.parents(".dpdfg_filtergrid").get(0).attributes,function(){this.specified&&s.attr(this.name,this.value)});var f=t("<div></div>");t.each(e.get(0).attributes,function(){this.specified&&f.attr(this.name,this.value)}),f.append(d),s.find(".et_pb_module_inner").append(f);var l=t('<div class="dp-dfg-popup-modal-inline"><style>'+decodeURIComponent(o)+"</style></div>");if(l.append(s),!a){var p={allowHTMLInStatusIndicator:!0,allowHTMLInTemplate:!0,type:"inline",preloader:!1,fixedContentPos:!0,removalDelay:300,mainClass:r.join(" "),items:{src:l},callbacks:{beforeClose:function(){e.find(".dp-dfg-secondary").append(d),this.contentContainer.get(0).remove()}}},g={args:p,trigger:e};e.trigger("dfg_open_popup",g)}}(r.find(".dp-dfg-secondary").children(),r);break;case"popup":N(f?r.find(".dp-dfg-image-link").attr("data-ajax-url"):r.attr("data-ajax-url"),r,"post");break;case"lightbox":case"lightbox_gallery":f?z(r.find(".dp-dfg-image-link"),o):void 0!==r.attr("data-img")&&z(r,o);break;case"gallery_cf":f?U(r.find(".dp-dfg-image-link")):void 0!==r.attr("data-images")&&U(r)}r.trigger("dfg_click_action",{item:r,action:o})}}}),n.on("click",".dp-dfg-image-link",function(a){var d=t(this),e=d.parents(".dp-dfg-item").attr("data-action");(void 0===e&&(e=n.attr("data-action")),"none"!==e)&&(a.preventDefault(),a.stopPropagation(),d.hasClass("entry-thumb-popup")?N(d.attr("data-ajax-url"),d,"post"):d.hasClass("entry-thumb-lightbox")?z(d,e):d.hasClass("entry-thumb-gallery-cf")?U(d):"on"===d.parents(".dp-dfg-item").attr("data-new-tab")?window.open(d.attr("href")):window.location=d.attr("href"))}),n.on("click","a.dp-dfg-action-button",function(a){a.preventDefault(),t(this).parents(".dp-dfg-item").click()}),n.on("click",".dp-dfg-image.entry-video",function(t){t.preventDefault(),t.stopPropagation()}),n.on("click",".dp-dfg-video-overlay",function(a){var d=t(this),e=d.parents(".dp-dfg-item"),i=e.attr("data-video-url"),r=e.attr("data-video-action");if(a.preventDefault(),a.stopPropagation(),"play"===r){var n=d.parents(".dp-dfg-image.entry-video").find("video");if(void 0!==n[0])n[0].play(),n.on("play",function(){d.addClass("dp-dfg-video-playing")});else{var o=d.parents(".dp-dfg-image.entry-video").find("iframe"),s=new URL(o.attr("src")),f=s.searchParams;f.set("autoplay","1"),s.search=f.toString();var l=s.toString();o.attr("src",l),d.addClass("dp-dfg-video-playing")}}else"popup"===r&&N(i,e,"video")}),m){n.attr("data-number",r);var F=["all"];n.find(".dp-dfg-filter a").each(function(){F.push(t(this).attr("data-term-id"))});var G=[];n.find(".pagination-item:not(.dp-dfg-direction) a").each(function(){G.push(t(this).attr("data-page"))}),0===G.length&&(G=[1]),i[r]=[],F.forEach(function(t){i[r][t]=[],G.forEach(function(a){i[r][t][a]=[]})}),n.hasClass("dp-dfg-skin-itemsinoverlay")?setTimeout(function(){J()},100):J()}function Q(){var a,d=n.find(".dp-dfg-item"),e=n.attr("data-ratio"),i=d.find(".dp-dfg-image img").first();a=void 0===i?d.first().outerWidth(!1):i.width(),d.each(function(){var d=t(this).find(".dp-dfg-image img");void 0!==d&&(e=d.attr("data-ratio")),t(this).height(a*e)})}function K(){var a=n.children(".dp-dfg-items"),d=parseInt(a.css("grid-row-gap")),e=n.hasClass("dp-dfg-skin-itemsinoverlay");a.css({gridAutoRows:"auto"}),a.css({alignItems:"self-start"}),a.children(".dp-dfg-item").each(function(){t(this).css({"-ms-grid-rows":"min-content"});var a=t(this).outerHeight(!0),i=Math.ceil(a%d);if(e){var r=a+i+"px";t(this).css({height:r}),t(this).find(".dp-dfg-image img").css({height:r})}var n="span "+Math.ceil((a+i)/d);t(this).css({gridRowEnd:n})}),a.removeAttr("style"),a.addClass("dp-dfg-masonry-ready"),a.trigger("dfg_masonry_ready")}function X(){n.find(".dp-dfg-items").find(".dp-dfg-media-video-wrapper").each(function(){var a=t(this).attr("data-ratio"),d=t(this).outerWidth()*a+"px";t(this).css({height:d})})}function Y(t){var a=n.find(".dp-dfg-items");X();var d={gutter:".dp-dfg-masonry-gutter",itemSelector:".dp-dfg-masonry-item",percentPosition:!0};window.Masonry?(void 0!==a.data("masonry")?"ajax"===t?a.removeAttr("style").removeData("masonry").imagesLoaded(function(){a.masonry(d)}):"jquery"===t&&a.masonry("reloadItems").masonry("layout"):a.masonry(d),a.trigger("dfg_desandro_masonry_ready")):console.log("Divi FilterGrid: Desandro Masonry missing")}function Z(){n.find(".dp-dfg-item.has-post-video .dp-dfg-image").each(function(){t(this).find(".wp-video-shortcode").removeAttr("width").removeAttr("height"),t.fn.fitVids&&t(this).fitVids({customSelector:"iframe"})})}function $(){n.find("video").each(function(){var a=t(this).attr("src");void 0!==a?(a=a.split("?")[0]+"#t=0.001",t(this).attr("src",a)):t(this).find("source").each(function(){a=t(this).attr("src").split("?")[0]+"#t=0.001",t(this).attr("src",a)})})}function tt(){if("on"===n.attr("data-video-preview")&&n.hasClass("dp-dfg-layout-masonry-standard")){var a=n.find(".dp-dfg-items");a.find("video").each(function(){t(this).on("loadeddata",function(){a.masonry("reloadItems").masonry("layout")})})}}function at(){return[n.attr("data-page"),"all"!==n.attr("data-active-filter")?n.attr("data-active-filter"):"","".concat(n.attr("data-order"),"|").concat(n.attr("data-orderby")),void 0!==O?O.val():"","all"!==n.attr("data-date-active-filter")?n.attr("data-date-active-filter"):""]}function dt(a){var d=0;a.each(function(){t(this).attr("data-position",d),d++})}function et(){t(this).width()!==e&&(e=t(this).width(),n.hasClass("dp-dfg-skin-itemsinoverlay")&&Q(),n.hasClass("dp-dfg-layout-masonry")&&n.imagesLoaded(function(){K()}),n.hasClass("dp-dfg-layout-masonry-standard")&&X())}h&&v&&window.addEventListener("popstate",function(t){var a=A;null!==t.state&&(a=t.state.dpDfgState),function(t){n.attr("data-page",t[0]),n.attr("data-active-filter",""===t[1]?"all":t[1]),n.attr("data-order",t[2].split("|")[0]),n.attr("data-orderby",t[2].split("|")[1]),n.attr("data-date-active-filter",""===t[4]?"all":t[4])}(a),"ajax"===u?q("history"):window.location.reload()}),n.on("dfg_after_ajax",function(t,a,d){if(h&&v&&history.pushState){var e=new URLSearchParams(window.location.search),i=at();p&&e.set("dfg_page",i[0]),o&&(""!==i[1]?e.set("dfg_filter",i[1]):e.delete("dfg_filter")),s&&(""!==i[4]?e.set("dfg_date_filter",i[4]):e.delete("dfg_date_filter")),c&&e.set("dfg_sort",i[2]),g&&(""!==i[3]?e.set("dfg_s",i[3]):e.delete("dfg_s")),"history"!==d&&history.pushState({dpDfgState:i},"","?"+e.toString())}if(Z(),tt(),$(),n.hasClass("dp-dfg-skin-itemsinoverlay")&&setTimeout(function(){Q()},10),n.hasClass("dp-dfg-layout-masonry")&&setTimeout(function(){K()},10),n.hasClass("dp-dfg-layout-masonry-standard")&&setTimeout(function(){Y("ajax")},10),n.attr("data-doing-ajax","off"),""!==n.attr("data-jquery-based-filters")){var r=n.attr("data-jquery-based-filters").split("|");n.find(".dp-dfg-filter-link[data-term-id="+r[r.length-1]+"]").removeClass("active").click()}}),a||(n.trigger("dfg_before_init",{module:n}),o&&function(){var t=n.attr("data-link-filter");if(void 0!==t&&""!==t){var a=t.split("|");if(a.length>0){var d=0;a.forEach(function(t){var e=n.find('.dp-dfg-filter-link[data-term-id="'+t+'"], .dp-dfg-filter-link.'+t).parents(".dp-dfg-filter:not(.dp-dfg-date-filter)");d++,1===e.length&&("on"===C&&R(n,e),d===a.length?M(e,!0):M(e,!1))}),n.attr("data-active-filter",t)}}}(),window.addEventListener("resize",et),Z(),tt(),$(),n.hasClass("dp-dfg-skin-itemsinoverlay")&&Q(),"function"===typeof imagesLoaded&&(n.hasClass("dp-dfg-layout-masonry")&&K(),n.hasClass("dp-dfg-layout-masonry-standard")&&n.imagesLoaded(function(){Y("init")})),n.on("dfg_open_lightbox",function(a,d){t.magnificPopup.open(d.args,d.start_at)}),n.on("dfg_open_popup",function(a,d){t.magnificPopup.open(d.args)}),n.on("dfg_open_custom_lightbox",function(a,d){t.magnificPopup.open(d.args)}),function(){if(w&&"on"===C&&"All"!==j){var t=n.find(".dp-dfg-filter-link[data-term-id=".concat(j,"]"));void 0!==t&&R(n,t.parent())}}(),n.find(".dp-dfg-dropdown-placeholder").each(function(){t(this).siblings("span").length>0&&t(this).hide()}))})})}(jQuery)}]);